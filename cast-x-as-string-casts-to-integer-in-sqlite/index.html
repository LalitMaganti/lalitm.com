<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=en dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>CAST(x AS STRING) casts to integer in SQLite - Lalit Maganti</title><meta name=theme-color><meta name=description content="As an &ldquo;SQLite consultant&rdquo; for my local area of Google, I often have people come to me having written SQL like:
SELECT CAST(bar AS STRING) AS baz
FROM foo
and ask me &ldquo;Why is baz always an integer?! Have I hit an SQLite bug?&rdquo;.
I have to again reach for my list of &ldquo;odd quirks that SQLite has that people don&rsquo;t know about&rdquo;. Because this is not a bug, at least according to the SQLite manual.
Instead, the correct way to write this is:
SELECT CAST(bar AS TEXT) AS baz
FROM foo
The reason for this? Quoting from &ldquo;Determination of Column Affinity&rdquo;

For tables not declared as STRICT, the affinity of a column is determined by the declared type of the column, according to the following rules in the order shown:

If the declared type contains the string &ldquo;INT&rdquo; then it is assigned INTEGER affinity.
If the declared type of the column contains any of the strings &ldquo;CHAR&rdquo;, &ldquo;CLOB&rdquo;, or &ldquo;TEXT&rdquo; then that column has TEXT affinity. Notice that the type VARCHAR contains the string &ldquo;CHAR&rdquo; and is thus assigned TEXT affinity.
If the declared type for a column contains the string &ldquo;BLOB&rdquo; or if no type is specified then the column has affinity BLOB.
If the declared type for a column contains any of the strings &ldquo;REAL&rdquo;, &ldquo;FLOA&rdquo;, or &ldquo;DOUB&rdquo; then the column has REAL affinity.

Otherwise, the affinity is NUMERIC."><meta name=author content="Lalit Maganti"><link rel="preload stylesheet" as=style href=https://lalitm.com/main.min.css><link rel=preload as=image href=https://lalitm.com/theme.png><link rel=preload as=image href=https://lalitm.com/github.svg><link rel=preload as=image href=https://lalitm.com/linkedin.svg><link rel=preload as=image href=https://lalitm.com/bluesky.svg><link rel=preload as=image href=https://lalitm.com/rss.svg><script defer src=https://lalitm.com/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://lalitm.com/favicon.ico><link rel=apple-touch-icon href=https://lalitm.com/apple-touch-icon.png><meta name=generator content="Hugo 0.152.2"><link rel=preconnect href=https://www.googletagmanager.com crossorigin><link rel=dns-prefetch href=https://www.google-analytics.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-CPF1NN7N28"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CPF1NN7N28",{anonymize_ip:!0,cookie_flags:"SameSite=None;Secure"})</script><meta itemprop=name content="CAST(x AS STRING) casts to integer in SQLite"><meta itemprop=description content="As an “SQLite consultant” for my local area of Google, I often have people come to me having written SQL like:
SELECT CAST(bar AS STRING) AS baz FROM foo and ask me “Why is baz always an integer?! Have I hit an SQLite bug?”.
I have to again reach for my list of “odd quirks that SQLite has that people don’t know about”. Because this is not a bug, at least according to the SQLite manual.
Instead, the correct way to write this is:
SELECT CAST(bar AS TEXT) AS baz FROM foo The reason for this? Quoting from “Determination of Column Affinity”
For tables not declared as STRICT, the affinity of a column is determined by the declared type of the column, according to the following rules in the order shown:
If the declared type contains the string “INT” then it is assigned INTEGER affinity. If the declared type of the column contains any of the strings “CHAR”, “CLOB”, or “TEXT” then that column has TEXT affinity. Notice that the type VARCHAR contains the string “CHAR” and is thus assigned TEXT affinity. If the declared type for a column contains the string “BLOB” or if no type is specified then the column has affinity BLOB. If the declared type for a column contains any of the strings “REAL”, “FLOA”, or “DOUB” then the column has REAL affinity. Otherwise, the affinity is NUMERIC."><meta itemprop=datePublished content="2025-11-03T13:15:00+00:00"><meta itemprop=dateModified content="2025-11-03T13:15:00+00:00"><meta itemprop=wordCount content="304"><meta itemprop=keywords content="Sqlite"><meta property="og:url" content="https://lalitm.com/cast-x-as-string-casts-to-integer-in-sqlite/"><meta property="og:site_name" content="Lalit Maganti"><meta property="og:title" content="CAST(x AS STRING) casts to integer in SQLite"><meta property="og:description" content="As an “SQLite consultant” for my local area of Google, I often have people come to me having written SQL like:
SELECT CAST(bar AS STRING) AS baz FROM foo and ask me “Why is baz always an integer?! Have I hit an SQLite bug?”.
I have to again reach for my list of “odd quirks that SQLite has that people don’t know about”. Because this is not a bug, at least according to the SQLite manual.
Instead, the correct way to write this is:
SELECT CAST(bar AS TEXT) AS baz FROM foo The reason for this? Quoting from “Determination of Column Affinity”
For tables not declared as STRICT, the affinity of a column is determined by the declared type of the column, according to the following rules in the order shown:
If the declared type contains the string “INT” then it is assigned INTEGER affinity. If the declared type of the column contains any of the strings “CHAR”, “CLOB”, or “TEXT” then that column has TEXT affinity. Notice that the type VARCHAR contains the string “CHAR” and is thus assigned TEXT affinity. If the declared type for a column contains the string “BLOB” or if no type is specified then the column has affinity BLOB. If the declared type for a column contains any of the strings “REAL”, “FLOA”, or “DOUB” then the column has REAL affinity. Otherwise, the affinity is NUMERIC."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-11-03T13:15:00+00:00"><meta property="article:modified_time" content="2025-11-03T13:15:00+00:00"><meta property="article:tag" content="Sqlite"><meta name=twitter:card content="summary"><meta name=twitter:title content="CAST(x AS STRING) casts to integer in SQLite"><meta name=twitter:description content="As an “SQLite consultant” for my local area of Google, I often have people come to me having written SQL like:
SELECT CAST(bar AS STRING) AS baz FROM foo and ask me “Why is baz always an integer?! Have I hit an SQLite bug?”.
I have to again reach for my list of “odd quirks that SQLite has that people don’t know about”. Because this is not a bug, at least according to the SQLite manual.
Instead, the correct way to write this is:
SELECT CAST(bar AS TEXT) AS baz FROM foo The reason for this? Quoting from “Determination of Column Affinity”
For tables not declared as STRICT, the affinity of a column is determined by the declared type of the column, according to the following rules in the order shown:
If the declared type contains the string “INT” then it is assigned INTEGER affinity. If the declared type of the column contains any of the strings “CHAR”, “CLOB”, or “TEXT” then that column has TEXT affinity. Notice that the type VARCHAR contains the string “CHAR” and is thus assigned TEXT affinity. If the declared type for a column contains the string “BLOB” or if no type is specified then the column has affinity BLOB. If the declared type for a column contains any of the strings “REAL”, “FLOA”, or “DOUB” then the column has REAL affinity. Otherwise, the affinity is NUMERIC."><link rel=canonical href=https://lalitm.com/cast-x-as-string-casts-to-integer-in-sqlite/></head><body class="text-black antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent] dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-(--w) px-8 whitespace-nowrap lg:justify-center"><div class="relative z-50 flex items-center ltr:mr-auto rtl:ml-auto"><a class="-translate-y-[1px] text-2xl font-medium" href=https://lalitm.com/>Lalit Maganti</a></div><div class="btn-menu relative z-50 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden ltr:-mr-8 rtl:-ml-8" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]');metaTheme.setAttribute("content","#000"),htmlClass.add("dark")</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full flex-col justify-center bg-(--bg) pb-16 duration-200 select-none lg:static lg:h-auto lg:flex-row lg:bg-transparent! lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center rtl:space-x-reverse header-nav"><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/page/about/>About</a><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/page/archive/>Archive</a><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/page/subscribe/>Subscribe</a></nav><nav class="mt-12 flex justify-center space-x-10 lg:mt-0 lg:items-center ltr:lg:ml-14 rtl:space-x-reverse rtl:lg:mr-14 dark:invert"><a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/LalitMaganti target=_blank rel=me>github</a>
<a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./linkedin.svg) href=https://linkedin.com/in/lalit-maganti-18b73a9a target=_blank rel=me>linkedin</a>
<a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./bluesky.svg) href=https://bsky.app/profile/lalitm.com target=_blank rel=me>bluesky</a>
<a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://lalitm.com/index.xml target=_blank rel=alternate>rss</a></nav></div></header><main class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] max-w-(--w) px-8 pt-0 pb-16 main-content"><article><header class=mb-4><h1 class="!mt-0 !mb-1 !text-base !font-bold">CAST(x AS STRING) casts to integer in SQLite</h1><time class="block text-xs post-date">Nov 3, 2025</time></header><section><p>As an &ldquo;SQLite consultant&rdquo; for my local area of Google, I often have people come to me having written SQL like:</p><pre tabindex=0><code>SELECT CAST(bar AS STRING) AS baz
FROM foo
</code></pre><p>and ask me &ldquo;Why is baz always an integer?! Have I hit an SQLite bug?&rdquo;.</p><p>I have to again reach for my list of &ldquo;odd quirks that SQLite has that people don&rsquo;t know about&rdquo;. Because this is <em>not</em> a bug, at least according to the SQLite manual.</p><p>Instead, the correct way to write this is:</p><pre tabindex=0><code>SELECT CAST(bar AS TEXT) AS baz
FROM foo
</code></pre><p>The reason for this? Quoting from <a href=https://www.sqlite.org/datatype3.html#affname>&ldquo;Determination of Column Affinity&rdquo;</a></p><blockquote><p>For tables not declared as STRICT, the affinity of a column is determined by the declared type of the column, according to the following rules in the order shown:</p><ol><li>If the declared type contains the string &ldquo;INT&rdquo; then it is assigned INTEGER affinity.</li><li>If the declared type of the column contains any of the strings &ldquo;CHAR&rdquo;, &ldquo;CLOB&rdquo;, or &ldquo;TEXT&rdquo; then that column has TEXT affinity. Notice that the type VARCHAR contains the string &ldquo;CHAR&rdquo; and is thus assigned TEXT affinity.</li><li>If the declared type for a column contains the string &ldquo;BLOB&rdquo; or if no type is specified then the column has affinity BLOB.</li><li>If the declared type for a column contains any of the strings &ldquo;REAL&rdquo;, &ldquo;FLOA&rdquo;, or &ldquo;DOUB&rdquo; then the column has REAL affinity.</li></ol><p>Otherwise, the affinity is NUMERIC.</p></blockquote><p><code>STRING</code> does not match any of the numbered rules and so fallback to <code>NUMERIC</code> affinity which, in the general case, means integer.</p><p>Due to SQLite&rsquo;s staunch stance of being &ldquo;backwards compatible&rdquo; there&rsquo;s very little chance of this paper-cut ever going away. But at least next time someone comes to me with this issue, I&rsquo;ll be able to link to this post instead of writing the same thing for the nth time :)</p></section><div class=post-metadata><a href=https://lalitm.com/cast-x-as-string-casts-to-integer-in-sqlite/ class=hover:underline>#</a><span> 13:15</span><span> / </span><a href=https://lalitm.com/tags/sqlite class=hover:underline>#sqlite</a></div><div class="mt-8 border-t border-black/[20%] pt-6 dark:border-white/[20%]"><p class="text-sm opacity-60"><em>If you enjoyed this post, you can <a href=/page/subscribe/>subscribe</a> to my weekly roundup of recent posts, or follow via <a href=/index.xml>RSS</a>.</em></p></div><nav class="mt-12 flex overflow-hidden rounded-xl bg-black/[3%] text-lg leading-[1.2]! *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"><a class="justify-end pl-3 ltr:ml-auto rtl:mr-auto" href=https://lalitm.com/til-diataxis-systematic-technical-documentation/><span>TIL: Diátaxis: Systematic technical documentation</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a></nav></article></main><footer class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"><div class=mr-auto>&copy;2025
<a class=link href=https://lalitm.com/>Lalit Maganti</a></div></footer></body></html>