<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lalit Maganti</title><link>https://lalitm.com/</link><description>Recent content on Lalit Maganti</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Mon, 03 Nov 2025 23:57:00 +0000</lastBuildDate><atom:link href="https://lalitm.com/index.xml" rel="self" type="application/rss+xml"/><item><title>CAST(x AS STRING) casts to integer in SQLite</title><link>https://lalitm.com/cast-x-as-string-casts-to-integer-in-sqlite/</link><pubDate>Mon, 03 Nov 2025 13:15:00 +0000</pubDate><guid>https://lalitm.com/cast-x-as-string-casts-to-integer-in-sqlite/</guid><description>&lt;p&gt;As an &amp;ldquo;SQLite consultant&amp;rdquo; for my local area of Google, I often have people come to me having written SQL like:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;SELECT CAST(bar AS STRING) AS baz
FROM foo
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and ask me &amp;ldquo;Why is baz always an integer?! Have I hit an SQLite bug?&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;I have to again reach for my list of &amp;ldquo;odd quirks that SQLite has that people don&amp;rsquo;t know about&amp;rdquo;. Because this is &lt;em&gt;not&lt;/em&gt; a bug, at least according to the SQLite manual.&lt;/p&gt;
&lt;p&gt;Instead, the correct way to write the above query is:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;SELECT CAST(bar AS TEXT) AS baz
FROM foo
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The reason for this? Quoting from &lt;a href="https://www.sqlite.org/datatype3.html#affname"&gt;&amp;ldquo;Determination of Column Affinity&amp;rdquo;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For tables not declared as STRICT, the affinity of a column is determined by the declared type of the column, according to the following rules in the order shown:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If the declared type contains the string &amp;ldquo;INT&amp;rdquo; then it is assigned INTEGER affinity.&lt;/li&gt;
&lt;li&gt;If the declared type of the column contains any of the strings &amp;ldquo;CHAR&amp;rdquo;, &amp;ldquo;CLOB&amp;rdquo;, or &amp;ldquo;TEXT&amp;rdquo; then that column has TEXT affinity. Notice that the type VARCHAR contains the string &amp;ldquo;CHAR&amp;rdquo; and is thus assigned TEXT affinity.&lt;/li&gt;
&lt;li&gt;If the declared type for a column contains the string &amp;ldquo;BLOB&amp;rdquo; or if no type is specified then the column has affinity BLOB.&lt;/li&gt;
&lt;li&gt;If the declared type for a column contains any of the strings &amp;ldquo;REAL&amp;rdquo;, &amp;ldquo;FLOA&amp;rdquo;, or &amp;ldquo;DOUB&amp;rdquo; then the column has REAL affinity.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Otherwise, the affinity is NUMERIC.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;STRING&lt;/code&gt; does not match any of the numbered rules and so fallback to &lt;code&gt;NUMERIC&lt;/code&gt; affinity which, in the general case, means integer.&lt;/p&gt;
&lt;p&gt;Due to SQLite&amp;rsquo;s staunch stance of being &amp;ldquo;backwards compatible&amp;rdquo; there&amp;rsquo;s very little chance of this paper-cut ever going away. But at least next time someone comes to me with this issue, I&amp;rsquo;ll be able to link to this post instead of writing the same thing for the nth time :)&lt;/p&gt;</description></item><item><title>TIL: Diátaxis: Systematic technical documentation</title><link>https://lalitm.com/til-diataxis-systematic-technical-documentation/</link><pubDate>Sun, 02 Nov 2025 23:44:00 +0000</pubDate><guid>https://lalitm.com/til-diataxis-systematic-technical-documentation/</guid><description>&lt;p&gt;A few weeks ago, I &lt;a href="https://lalitm.com/til-the-documentation-system-divio/"&gt;wrote&lt;/a&gt; about &amp;ldquo;The Documentation System&amp;rdquo; and how valuable I found it. As I dug deeper into researching how best to apply the principles outlined there, I came across &lt;a href="https://diataxis.fr/"&gt;Diátaxis&lt;/a&gt;. Written by the same author after they left &lt;a href="https://www.divio.com/"&gt;Divio&lt;/a&gt;, Diátaxis is a distillation of all the principles with much more guidance in how to apply the framework (e.g. giving more examples), diving more into the philosophy and in general being a more comprehensive view into how to write great technical docs.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m blown away by how well the framework (and Diátaxis &lt;a href="https://diataxis.fr/how-to-use-diataxis/#use-diataxis-as-a-guide-not-a-plan"&gt;makes clear&lt;/a&gt; it is a framework &lt;strong&gt;not&lt;/strong&gt; a rigid set of rules) is explained. It&amp;rsquo;s patently obvious that the author really understands technical documentation and they truly have given a gift to the industry by writing it up.&lt;/p&gt;
&lt;p&gt;Finding Diátaxis has only made me more motivated to deeply absorb its principles and see how to best apply it to all technical documentation I refactor and/or write going forward.&lt;/p&gt;</description></item><item><title>Perfetto: Swiss Army Knife for Linux Client Tracing</title><link>https://lalitm.com/perfetto-swiss-army-knife/</link><pubDate>Fri, 31 Oct 2025 00:00:00 +0000</pubDate><guid>https://lalitm.com/perfetto-swiss-army-knife/</guid><description>&lt;p&gt;&lt;em&gt;Discussed on &lt;a href="https://lobste.rs/s/6c86lq/perfetto_swiss_army_knife_for_linux"&gt;lobste.rs&lt;/a&gt; and &lt;a href="https://news.ycombinator.com/item?id=45771019"&gt;Hacker News&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I gave a talk at the &lt;a href="https://tracingsummit.org/"&gt;2025 Tracing Summit&lt;/a&gt; last month titled &amp;ldquo;&lt;a href="https://cfp.tracingsummit.org/ts2025/talk/TKVU8W/"&gt;Perfetto: The Swiss Army Knife of Linux Client/Embedded Tracing&lt;/a&gt;&amp;rdquo;. My goal in this talk was to show how Linux kernel, systems and embedded developers can use &lt;a href="https://docs.perfetto.dev"&gt;Perfetto&lt;/a&gt; when debugging and root-causing performance issues in their respective domains. Even though the Perfetto UI is primarily built for viewing &lt;a href="https://perfetto.dev/docs/#why-would-you-use-perfetto-"&gt;Android or Chrome traces&lt;/a&gt;, it is a flexible tool and can be used in many other ways!&lt;/p&gt;
&lt;p&gt;The talk was recorded and is available on &lt;a href="https://www.youtube.com/watch?v=VzTwul2Qb3g"&gt;YouTube&lt;/a&gt;. Taking inspiration from &lt;a href="https://simonwillison.net/"&gt;Simon Willison&lt;/a&gt;, this post is an &lt;a href="https://simonwillison.net/2023/Aug/6/annotated-presentations/"&gt;annotated presentation&lt;/a&gt; containing my slides and detailed notes on them. The talk also has a lot of UI demos: for these, I&amp;rsquo;ll have a screenshot but also a link to the relevant part of the video (videos are unbeatable for UI!).&lt;/p&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;"&gt;
&lt;iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/VzTwul2Qb3g" title="TS2025 - Perfetto: The Swiss Army Knife of Linux Client/Embedded Tracing" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;First, what is Perfetto? Perfetto is fundamentally a suite of tools: it&amp;rsquo;s not just one thing but a bunch of different tools working together to help you debug and root-cause problems. This diagram shows how everything fits together, with the core parts of the Perfetto project in the center.&lt;/p&gt;
&lt;center&gt;
&lt;p&gt;&lt;img src="https://lalitm.com/img/perfetto-swiss-army-03.jpg" alt="diagram of all the pieces of Perfetto, Recording tools, protobuf format, trace processor, Perfetto UI, Python API, Format converters. Chrome JSON, Other profiling formats"&gt;&lt;/p&gt;
&lt;/center&gt;
&lt;p&gt;The recording tools for Perfetto consist of 1) an &lt;a href="https://perfetto.dev/docs/getting-started/in-app-tracing"&gt;SDK for C++ apps&lt;/a&gt; 2) a &lt;a href="https://perfetto.dev/docs/getting-started/system-tracing"&gt;daemon&lt;/a&gt; that can collect data from ftrace, /proc, /sys, and various kernel interfaces 3) another &lt;a href="https://perfetto.dev/docs/concepts/service-model"&gt;daemon&lt;/a&gt; that amalgamates trace data from multiple processes into a single trace file. These tools all speak the Perfetto &lt;a href="https://perfetto.dev/docs/getting-started/converting"&gt;protobuf format&lt;/a&gt;, a high-performance trace format designed to be very efficient to write but not to analyze or consume directly.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s where the &lt;a href="https://perfetto.dev/docs/analysis/trace-processor"&gt;trace processor&lt;/a&gt; comes in. It&amp;rsquo;s a C++ library that parses the protobuf format, but also a bunch of other widely used trace formats. It exposes this data via an SQL query interface to any embedding program including &lt;a href="https://perfetto.dev/docs/visualization/perfetto-ui"&gt;Perfetto UI&lt;/a&gt; (which is what most of this talk is about) and also to the &lt;a href="https://perfetto.dev/docs/analysis/trace-processor-python"&gt;Python API&lt;/a&gt; if you want to do ad-hoc scripting or analysis in Python.&lt;/p&gt;
&lt;p&gt;There are also very common tracing/profiling formats used by the Linux community: perf.data, ftrace text format, Firefox profiler format, and many others. Perfetto &lt;a href="https://perfetto.dev/docs/getting-started/other-formats"&gt;supports&lt;/a&gt; quite a few of those directly. There&amp;rsquo;s also the Chrome JSON format (AKA the &lt;a href="https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/preview?tab=t.0"&gt;Trace Event Format&lt;/a&gt;) which is a simpler interchange format. It&amp;rsquo;s not the most efficient to read or write, but it does the job for a lot of use cases.&lt;/p&gt;
&lt;p&gt;Often people write &lt;a href="https://perfetto.dev/docs/getting-started/converting"&gt;converters&lt;/a&gt;. They have their own tracing format, maybe proprietary, maybe open source but something we don&amp;rsquo;t know about, and it&amp;rsquo;s very common that people convert to one of the formats we understand, most commonly our protobuf or Chrome JSON formats.&lt;/p&gt;
&lt;center&gt;
&lt;p&gt;&lt;img src="https://lalitm.com/img/perfetto-swiss-army-04.jpg" alt="Slide showing Perfetto UI architecture with web-based trace visualizer features"&gt;&lt;/p&gt;
&lt;/center&gt;
&lt;p&gt;The &lt;a href="https://perfetto.dev/docs/visualization/perfetto-ui"&gt;Perfetto UI&lt;/a&gt; is fundamentally a web-based trace visualizer, combining timeline visualization, user-driven selection/aggregation, and SQL queries all in one interface. Because it has the trace processor as a backend, it works with a bunch of different trace formats.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s very important to note that even though the Perfetto UI is web-based, everything happens inside your browser and trace data never leaves your system. You can even &lt;a href="https://perfetto.dev/docs/contributing/ui-getting-started"&gt;build it&lt;/a&gt; and host it yourself on any static server: we&amp;rsquo;ve made it extremely easy to do so!&lt;/p&gt;
&lt;p&gt;At the start of 2025, we actually moved our whole development to GitHub. In the past, we used to develop on Android and GitHub was just a mirror. That&amp;rsquo;s no longer the case, GitHub is actually where we develop and take pull requests.&lt;/p&gt;
&lt;center&gt;
&lt;p&gt;&lt;img src="https://lalitm.com/img/perfetto-swiss-army-05.jpg" alt="Slide introducing the fractal renderer demo program with Vulkan and multi-threading"&gt;&lt;/p&gt;
&lt;/center&gt;
&lt;p&gt;Most of this talk, I&amp;rsquo;m going to spend actually showing you how you can use the Perfetto UI to debug performance issues on Linux. I don&amp;rsquo;t want to show you an Android trace which needs a lot of context about how the Android system works and so you think, &amp;ldquo;oh, that was cool, but I didn&amp;rsquo;t really understand what was happening.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;So to make this talk more approachable, I wrote a &lt;a href="https://github.com/LalitMaganti/fractal-renderer-vk"&gt;straightforward demo program&lt;/a&gt; you can look at yourself! So it&amp;rsquo;s obviously not a production system but I&amp;rsquo;ve tried to make it as representative of the sort of issues we use Perfetto for every day.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a Rust program which generates a Julia set and visualizes it over time. The technologies I used: &lt;a href="https://vulkano.rs/"&gt;Vulkan&lt;/a&gt;, GPU rendering and also multi-threaded CPU computation. So how it works is that computation of various parameters is happening on background threads, and then that&amp;rsquo;s being passed to the main thread for rendering.&lt;/p&gt;
&lt;p&gt;And then, for demonstration purposes, there is a performance bug; rendering should run at 60 FPS, but every so often, the frame rate drops dramatically. Here&amp;rsquo;s what that looks like:&lt;/p&gt;
&lt;center&gt;
&lt;p&gt;&lt;img src="https://lalitm.com/img/test.avif" alt="Animated visualization of Julia set fractal renderer showing frame rate drops"&gt;&lt;/p&gt;
&lt;/center&gt;
&lt;p&gt;The code is on &lt;a href="https://github.com/LalitMaganti/fractal-renderer-vk"&gt;GitHub&lt;/a&gt; and if you&amp;rsquo;re interested in following along. The traces are there as well - you don&amp;rsquo;t have to collect the traces yourself, but you can if you want. All the instructions and information is in the README.&lt;/p&gt;
&lt;center&gt;
&lt;p&gt;&lt;img src="https://lalitm.com/img/perfetto-swiss-army-06.jpg" alt="Slide titled &amp;ldquo;Suspicion #1: Maybe it&amp;rsquo;s a CPU problem?&amp;rdquo; with perf command examples"&gt;&lt;/p&gt;
&lt;/center&gt;
&lt;p&gt;So the first suspicion we may have is that maybe it&amp;rsquo;s some CPU problem. A lot of engineers I know would reach for perf immediately whenever they see a problem like this. The main reason is that if perf can capture the problem, they can go straight to the line of code without needing to spend time debugging using more complex approaches.&lt;/p&gt;</description></item><item><title>TIL: Public File Hosting with 0x0.st</title><link>https://lalitm.com/til-public-file-hosting-with-0x0-st/</link><pubDate>Sat, 25 Oct 2025 15:13:00 +0100</pubDate><guid>https://lalitm.com/til-public-file-hosting-with-0x0-st/</guid><description>&lt;p&gt;Sometimes you run into a truly inspirational piece of software that it&amp;rsquo;s a wonder even exists. I found &lt;a href="https://0x0.st/"&gt;0x0.st&lt;/a&gt; recently and it very much falls into this bucket.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s essentially a simple, no-account, temporary file hosting site where you can just upload a file using a simple HTTP POST and the site will host it for you for between 30 days and 1 year depending on the size of the file. Uploading a file is as simple as:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;curl -F &amp;#39;file=@yourfile.ext&amp;#39; https://0x0.st
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and you&amp;rsquo;ll get back a URL that you can share or use in the future.&lt;/p&gt;
&lt;p&gt;I thought all the services like this had long since disappeared especially in the age of increasing scrutiny by government of content that websites host. It turns out though that from this discussion on &lt;a href="https://news.ycombinator.com/item?id=35491520"&gt;HN&lt;/a&gt;, there are actually a bunch of similar services (transfer.sh, bashupload.com, chunk.io) but 0x0.st was the only one which I was able to access without an error.&lt;/p&gt;</description></item><item><title>TIL: `will-change` and `isolation` CSS properties</title><link>https://lalitm.com/til-will-change-and-isolation-css-properties/</link><pubDate>Fri, 24 Oct 2025 00:20:00 +0100</pubDate><guid>https://lalitm.com/til-will-change-and-isolation-css-properties/</guid><description>&lt;p&gt;The Perfetto UI is a fascinating project to work on because it often faces performance problems which you wouldn&amp;rsquo;t see in more &amp;ldquo;normal&amp;rdquo; webapps. I learn about all sorts of weird web features by reviewing PRs for the UI.&lt;/p&gt;
&lt;p&gt;Two such features I just learned about:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/will-change"&gt;will-change&lt;/a&gt; (&lt;a href="https://github.com/google/perfetto/pull/3350/files#diff-c57fa71e0c282ce81f65b10226043f6d89c4105afd3f5ec5813b8d9d5e034101R128"&gt;PR&lt;/a&gt;): a hint, to be used sparingly, to tell the browser that a certain property of a DOM element will change in the near future.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/isolation"&gt;isolation&lt;/a&gt; (&lt;em&gt;&lt;a href="https://github.com/google/perfetto/pull/3381/files#diff-c57fa71e0c282ce81f65b10226043f6d89c4105afd3f5ec5813b8d9d5e034101R119"&gt;PR&lt;/a&gt;&lt;/em&gt;):
I feel MDN didn&amp;rsquo;t do a great job of explaining so I asked Claude which gave a much more useful answer:
&lt;blockquote&gt;
&lt;p&gt;isolation is a CSS property that creates a new stacking context for an element. Think of a stacking context as a self-contained z-index universe. Elements within one stacking context can layer on top of each other, but their z-index values only matter relative to siblings within that same context.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>TIL: The Documentation System (Divio)</title><link>https://lalitm.com/til-the-documentation-system-divio/</link><pubDate>Sun, 19 Oct 2025 19:38:00 +0100</pubDate><guid>https://lalitm.com/til-the-documentation-system-divio/</guid><description>&lt;p&gt;The Perfetto team spent a lot of time earlier this year rewriting our documentation to be more useful for the average developer. We struggled a lot to figure out &amp;ldquo;what is the best way to structure our documentation&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;When reading &lt;a href="https://rakhim.exotext.com/examples-are-the-best-documentation"&gt;Examples are the best documentation&lt;/a&gt; today, I came across &lt;a href="https://docs.divio.com/documentation-system/"&gt;The Documentation System&lt;/a&gt;, an approach to structuring developer documentation. Reading through it, I couldn&amp;rsquo;t help but marvel at how clear and concisely it laid out the ideas we were struggling to come up with from first principles.&lt;/p&gt;
&lt;p&gt;Specifically, I really like how it breaks down documentation into four quadrants:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://docs.divio.com/documentation-system/tutorials/"&gt;&lt;strong&gt;Tutorials&lt;/strong&gt;&lt;/a&gt;: take your user through a series of steps to complete some task with your project.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.divio.com/documentation-system/how-to-guides/"&gt;&lt;strong&gt;How-to guides&lt;/strong&gt;&lt;/a&gt;: solve a real world problem with your project.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.divio.com/documentation-system/reference/"&gt;&lt;strong&gt;Reference guides&lt;/strong&gt;&lt;/a&gt;: give technical explanations of how things work.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.divio.com/documentation-system/explanation/"&gt;&lt;strong&gt;Explanations&lt;/strong&gt;&lt;/a&gt;: clarify a particular topic or area and how the project fits into the bigger tech landscape.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I think we got &lt;em&gt;most&lt;/em&gt; of this right in our documentation rewrite but we definitely muddled some of these areas together, making our pages less clear than they could be. I plan on spending some time later this year correcting our docs to match this system closer.&lt;/p&gt;</description></item><item><title>On Perfetto, Open Source, and Company Priorities</title><link>https://lalitm.com/perfetto-oss-company-prio/</link><pubDate>Fri, 17 Oct 2025 15:00:00 +0100</pubDate><guid>https://lalitm.com/perfetto-oss-company-prio/</guid><description>&lt;p&gt;&lt;em&gt;Discussed on &lt;a href="https://lobste.rs/s/chaivl/on_perfetto_open_source_company"&gt;lobste.rs&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I recently stumbled across
&lt;a href="https://lobste.rs/s/fl7ly9/traceboot_precise_lightweight_tracing"&gt;this post on lobste.rs&lt;/a&gt;
about a project called
&lt;a href="https://codeberg.org/SpecialSnowflake/traceboot"&gt;traceboot&lt;/a&gt; which allows
visualizing the Linux boot process using lightweight ftrace events and Perfetto.
The author had
&lt;a href="https://codeberg.org/SpecialSnowflake/traceboot#woes-with-a-rant-and-ideas-last-paragraph-of-this-section"&gt;some commentary&lt;/a&gt;
about their experience trying to order tracks in Perfetto:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ordering tracks with perfetto has been ridiculously complicated. It has taken
the majority of the time of this project! Upstream&amp;rsquo;s answers are basically
that the main user is Android (Perfetto is a Google project) so others come
second if at all. While I get the reasons to do so, I read that as a caution
against depending on it as a third-party. Google is notorious for (&amp;hellip;)
completely killing projects&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Honestly? All of these points are right:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It is really unfortunate that doing something so simple took so much effort.&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s true that external users are supported at a lower priority than Android
users.&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s also the case that Google has historically wound down projects when
priorities shift&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The good news is that we just
&lt;a href="https://github.com/google/perfetto/pull/3273"&gt;landed&lt;/a&gt; support for trace
writers to specify explicitly how traces should be ordered with the JSON format
in Perfetto without any extreme workarounds! This feature is already available on
the &amp;ldquo;Canary&amp;rdquo; UI channel and on &amp;ldquo;Stable&amp;rdquo; within 3-4 weeks.&lt;/p&gt;</description></item><item><title>What Makes a Good Tool for Claude Code</title><link>https://lalitm.com/writing-tools-for-claude-code/</link><pubDate>Sun, 12 Oct 2025 00:00:00 +0000</pubDate><guid>https://lalitm.com/writing-tools-for-claude-code/</guid><description>&lt;p&gt;I&amp;rsquo;ve been using Claude Code extensively for personal projects, and similar AI
coding tools at work. Recently I came across
&lt;a href="https://www.alephic.com/writing/the-magic-of-claude-code"&gt;this excellent blog post&lt;/a&gt;
that resonated with a lot of my experience.&lt;/p&gt;
&lt;p&gt;One part stuck with me though: Noah emphasizes that tools fail with LLMs when
they&amp;rsquo;re &amp;ldquo;overly complex,&amp;rdquo; with the Unix philosophy being particularly
well-suited for tool calling. But then I thought about &lt;code&gt;git&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Git breaks the Unix philosophy completely. It&amp;rsquo;s sprawling, stateful, and
complex. And yet Claude Code handles it effortlessly. It composes commands that,
even after 10+ years of daily git usage, I wouldn&amp;rsquo;t think to use. It handles
rebasing, cherry-picking, complex resets—stuff that trips up experienced
developers regularly.&lt;/p&gt;
&lt;p&gt;So if simplicity and the Unix philosophy aren&amp;rsquo;t the whole story, what else
matters?&lt;/p&gt;
&lt;p&gt;I’ve come up with three “hallmarks” of a good tool for tool calling with LLMs.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. It’s been around for a long time and/or is used by lots of people&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>Harnessing Frustration: Using LLMs to Overcome Activation Energy</title><link>https://lalitm.com/llm-motivation-via-emotions/</link><pubDate>Mon, 14 Jul 2025 00:00:00 +0000</pubDate><guid>https://lalitm.com/llm-motivation-via-emotions/</guid><description>&lt;p&gt;One of my biggest weaknesses as a software engineer is procrastination when
facing a new project. When the scope is unclear, I have a tendency to wait until
I feel I&amp;rsquo;ve &amp;ldquo;felt out&amp;rdquo; the problem to start doing anything. I know I&amp;rsquo;ll feel
better and work much faster when I get &amp;ldquo;stuck in&amp;rdquo; but I still struggle with that
first step, overcoming the &amp;ldquo;activation energy&amp;rdquo; required to engage with the
details.&lt;/p&gt;
&lt;p&gt;LLMs have been a game-changer for me in this respect: I can just throw a couple
of sentences at them with the shape of the problem. This leads to one of two
outcomes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The LLM comes up with a good solution, usually in a slightly different way
than what I was thinking. I realize &amp;ldquo;oh wow the solution is much simpler than
I thought&amp;rdquo;. Straight away I start thinking about the consequences of
implementing and improving what the LLM suggested.&lt;/li&gt;
&lt;li&gt;The LLM comes up with a solution that I intuitively recognize as &amp;ldquo;wrong&amp;rdquo;. My
immediate reaction is frustration (&amp;ldquo;How could it get it so wrong&amp;rdquo;) which
leads me to go back and forth with the model, explaining to it why its
solution could not &lt;em&gt;possibly&lt;/em&gt; work. But in the process of arguing with the
model, my brain is churning away and generating variations or different
approaches that &lt;em&gt;could&lt;/em&gt; work. After a while, even if the AI is still on the
wrong track, the debate will trigger a moment of inspiration where suddenly
the solution will come to me. I&amp;rsquo;ll excitedly start up a new conversation and
start working through it with the model.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The key is the emotional reaction I have immediately to the LLM&amp;rsquo;s response,
either &lt;strong&gt;excitement or frustration&lt;/strong&gt;. By harnessing this immediate feedback
loop, I get my brain out of its passive, procrastination mode. It&amp;rsquo;s almost like
a jolt: either I&amp;rsquo;m thrilled because it&amp;rsquo;s simpler than I thought, or I&amp;rsquo;m spurred
to action by the urge to correct a perceived &amp;lsquo;wrong&amp;rsquo; answer. This forces me to
engage with the problem in a meaningful way.&lt;/p&gt;</description></item><item><title>V4L2 and Hardware Encoding on the Raspberry Pi</title><link>https://lalitm.com/hw-encoding-raspi/</link><pubDate>Mon, 01 Feb 2021 23:00:00 +0000</pubDate><guid>https://lalitm.com/hw-encoding-raspi/</guid><description>&lt;p&gt;&lt;strong&gt;TLDR&lt;/strong&gt;: Explain how the V4L2 M2M API works through the use-case of
implementing hardware video encoding on the Raspberry Pi. This knowledge is
generally useful as V4L2 is the de-facto generic API for hardware decoding and
encoding on Linux.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Background&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;My journey started at
&lt;a href="https://www.youtube.com/watch?v=CyEpshm16HY&amp;amp;t=139s"&gt;this video&lt;/a&gt; on the
excellent
&lt;a href="https://www.youtube.com/channel/UCp3yVOm6A55nx65STpm3tXQ"&gt;Craft Computing&lt;/a&gt;
YouTube channel which showed how to setup TinyPilot, a Python app for KVM over
IP which runs on a Raspberry Pi. Behind the scenes, TinyPilot uses
&lt;a href="https://github.com/pikvm/ustreamer"&gt;ustreamer&lt;/a&gt; to read frames from a HDMI
capture card and either exposes it over HTTP or writes it to shared memory.
Along with the MJPEG output, support was recently added for encoding video using
H264.&lt;/p&gt;
&lt;p&gt;Even after messing with the source code, I could not get the H264 encoding
working on my Pi running 64-bit Ubuntu with an error message of
&lt;code&gt;Can't create MMAL wrapper&lt;/code&gt;. Digging further, I ran into some insurmountable
roadblocks with the approach taken by ustreamer and discovered the complex state
of hardware encoding on the Pi.&lt;/p&gt;</description></item></channel></rss>